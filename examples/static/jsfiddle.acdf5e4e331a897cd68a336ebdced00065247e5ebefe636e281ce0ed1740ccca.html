<html>
  <head>
    <meta charset="utf-8" />
    <title>Vis Network | Layouts | Hierarchical Layout Methods</title>
  </head>
  <body>
    <form
      id="form"
      action="https://jsfiddle.net/api/post/library/pure/"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="css"
        value="html,
body,
#mynetwork {
  margin: 0px;
  padding: 0px;
}

#mynetwork {
  position: fixed;
  left: 0px;
  top: 0px;
  bottom: 0px;
  right: 50%;
  min-height: 100vh;
  border-right: 1px solid lightgray;
  background: white;
}

#text {
  position: absolute;
  left: 50%;
  padding: 1em;
}

#title {
  margin-bottom: 5em;
}
"
      />
      <input
        type="hidden"
        name="html"
        value='&lt;div id="text"&gt;
  &lt;div id="title"&gt;
    &lt;h1&gt;Vis Network&lt;/h1&gt;
    &lt;h2&gt;Layouts&lt;/h2&gt;
    &lt;h3&gt;Hierarchical Layout Methods&lt;/h3&gt;
  &lt;/div&gt;

  &lt;p&gt;
    This example shows the effect of the different hierarchical layouting
    methods, node shaking and how hierarchical layouts work with clustering.
    Also note that it&amp;apos;s impossible to properly position a
    &amp;quot;hierarchy&amp;quot; with a cycle (If node 1 is above node 2 and node 2 is
    above node 1 which one is actually on top?)
  &lt;/p&gt;

  &lt;h4&gt;Hub Size&lt;/h4&gt;
  &lt;p&gt;
    The hub size layouting method is based on the amount of edges connected to a
    node. The node with the most connections (the largest hub) is drawn at the
    top of the tree.
  &lt;/p&gt;

  &lt;h4&gt;Direction&lt;/h4&gt;
  &lt;p&gt;
    The direction layouting method is based on the direction of the edges. The
    from nodes are placed above the to nodes in the hierarchy. Nodes that can be
    placed on multiple levels are by default shaken towards towards the leaves.
    All the leaves are then in a single line at the very bottom of the
    hierarchy. Optionally they can be shaken towards the roots which results in
    the roots being in a single line at the very top of the hierarchy.
  &lt;/p&gt;

  &lt;h4&gt;Interactive Configuration&lt;/h4&gt;
  &lt;form id="conf"&gt;
    &lt;p&gt;
      Layout method:
      &lt;br /&gt;

      &lt;input
        checked
        id="layout-method-directed"
        name="layout-method"
        type="radio"
        value="directed"
      /&gt;
      &lt;label for="layout-method-directed"&gt;Directed&lt;/label&gt;
      &lt;br /&gt;

      &lt;input
        id="layout-method-hubsize"
        name="layout-method"
        type="radio"
        value="hubsize"
      /&gt;
      &lt;label for="layout-method-hubsize"&gt;Hub Size&lt;/label&gt;
    &lt;/p&gt;

    &lt;p&gt;
      Shake towards (Applies to &lt;code&gt;directed&lt;/code&gt; only.):
      &lt;br /&gt;

      &lt;input
        checked
        id="shake-towards-leaves"
        name="shake-towards"
        type="radio"
        value="leaves"
      /&gt;
      &lt;label for="shake-towards-leaves"&gt;Leaves&lt;/label&gt;
      &lt;br /&gt;

      &lt;input
        id="shake-towards-roots"
        name="shake-towards"
        type="radio"
        value="roots"
      /&gt;
      &lt;label for="shake-towards-roots"&gt;Roots&lt;/label&gt;
    &lt;/p&gt;

    &lt;p&gt;
      Cluster:
      &lt;br /&gt;

      &lt;input id="cluster-node-0" name="cluster-node-0" type="checkbox" /&gt;
      &lt;label for="cluster-node-0"&gt;Node 0&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-1" name="cluster-node-1" type="checkbox" /&gt;
      &lt;label for="cluster-node-1"&gt;Node 1&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-2" name="cluster-node-2" type="checkbox" /&gt;
      &lt;label for="cluster-node-2"&gt;Node 2&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-3" name="cluster-node-3" type="checkbox" /&gt;
      &lt;label for="cluster-node-3"&gt;Node 3&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-4" name="cluster-node-4" type="checkbox" /&gt;
      &lt;label for="cluster-node-4"&gt;Node 4&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-5" name="cluster-node-5" type="checkbox" /&gt;
      &lt;label for="cluster-node-5"&gt;Node 5&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-6" name="cluster-node-6" type="checkbox" /&gt;
      &lt;label for="cluster-node-6"&gt;Node 6&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-7" name="cluster-node-7" type="checkbox" /&gt;
      &lt;label for="cluster-node-7"&gt;Node 7&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-8" name="cluster-node-8" type="checkbox" /&gt;
      &lt;label for="cluster-node-8"&gt;Node 8&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-9" name="cluster-node-9" type="checkbox" /&gt;
      &lt;label for="cluster-node-9"&gt;Node 9&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-10" name="cluster-node-10" type="checkbox" /&gt;
      &lt;label for="cluster-node-10"&gt;Node 10&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-11" name="cluster-node-11" type="checkbox" /&gt;
      &lt;label for="cluster-node-11"&gt;Node 11&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-12" name="cluster-node-12" type="checkbox" /&gt;
      &lt;label for="cluster-node-12"&gt;Node 12&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-13" name="cluster-node-13" type="checkbox" /&gt;
      &lt;label for="cluster-node-13"&gt;Node 13&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-14" name="cluster-node-14" type="checkbox" /&gt;
      &lt;label for="cluster-node-14"&gt;Node 14&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-15" name="cluster-node-15" type="checkbox" /&gt;
      &lt;label for="cluster-node-15"&gt;Node 15&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-16" name="cluster-node-16" type="checkbox" /&gt;
      &lt;label for="cluster-node-16"&gt;Node 16&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-17" name="cluster-node-17" type="checkbox" /&gt;
      &lt;label for="cluster-node-17"&gt;Node 17&lt;/label&gt;
      &lt;br /&gt;

      &lt;input id="cluster-node-18" name="cluster-node-18" type="checkbox" /&gt;
      &lt;label for="cluster-node-18"&gt;Node 18&lt;/label&gt;
    &lt;/p&gt;
  &lt;/form&gt;
&lt;/div&gt;

&lt;div id="mynetwork"&gt;&lt;/div&gt;
'
      />
      <input
        type="hidden"
        name="js"
        value='window.addEventListener("load", function () {
  var conf = document.getElementById("conf");

  function handleConfChange() {
    draw(new FormData(conf));
  }

  conf.addEventListener("change", handleConfChange);
  handleConfChange();
});

var network = null;

function draw(formData) {
  if (network !== null) {
    network.destroy();
    network = null;
  }

  var nodes = [
    { id: 0, label: "0" },
    { id: 1, label: "1" },
    { id: 2, label: "2" },
    { id: 3, label: "3" },
    { id: 4, label: "4" },
    { id: 5, label: "5" },
    { id: 6, label: "6" },
    { id: 7, label: "7" },
    { id: 8, label: "8" },
    { id: 9, label: "9" },
    { id: 10, label: "10" },
    { id: 11, label: "11" },
    { id: 12, label: "12" },
    { id: 13, label: "13" },
    { id: 14, label: "14" },
    { id: 15, label: "15" },
    { id: 16, label: "16" },
    { id: 17, label: "17" },
    { id: 18, label: "18" },
  ];
  var edges = [
    { from: 0, to: 1 },
    { from: 0, to: 6 },
    { from: 0, to: 13 },
    { from: 0, to: 11 },
    { from: 1, to: 2 },
    { from: 2, to: 3 },
    { from: 2, to: 4 },
    { from: 3, to: 5 },
    { from: 1, to: 10 },
    { from: 1, to: 7 },
    { from: 2, to: 8 },
    { from: 2, to: 9 },
    { from: 3, to: 14 },
    { from: 1, to: 12 },
    { from: 16, to: 15 },
    { from: 15, to: 17 },
    { from: 18, to: 17 },
  ];

  // create the network
  var container = document.getElementById("mynetwork");
  var data = {
    nodes: nodes,
    edges: edges,
  };
  var options = {
    layout: {
      hierarchical: {
        sortMethod: formData.get("layout-method"),
        shakeTowards: formData.get("shake-towards"),
      },
    },
    edges: {
      smooth: true,
      arrows: { to: true },
    },
  };
  network = new vis.Network(container, data, options);

  network.cluster({
    joinCondition(nodeOptions) {
      return !!formData.get(`cluster-node-${nodeOptions.id}`);
    },
  });
}
'
      />
      <input
        type="hidden"
        name="resources"
        value="https://visjs.github.io/vis-network/standalone/umd/vis-network.min.js"
      />
      <input
        type="hidden"
        name="title"
        value="Vis Network | Layouts | Hierarchical Layout Methods"
      />
      <input type="hidden" name="wrap" value="b" />
      <button id="open" alt="JSFiddle" title="JSFiddle">
        Open JSFiddle
      </button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
