<html>
  <head>
    <meta charset="utf-8" />
    <title>Vis Network | Data | Dynamic Data</title>
  </head>
  <body>
    <form
      id="form"
      action="https://codepen.io/pen/define"
      method="post"
      target="_self"
    >
      <input
        type="hidden"
        name="data"
        value='{"css":"#mynetwork {\n  width: 600px;\n  height: 400px;\n  border: 1px solid lightgray;\n}\n\np {\n  max-width: 600px;\n}\n\nh4 {\n  margin-bottom: 3px;\n}\n","css_external":"","html":"&lt;p&gt;\n  You can change any settings you want while the network is initialized using\n  the vis Dataset, setOptions and setData. Finally you can destroy the network\n  and completely reinitialize it.\n&lt;/p&gt;\n\n&lt;h4&gt;DataSet (change the data while it&amp;apos;s loaded and initialzed):&lt;/h4&gt;\n&lt;input type=\"button\" onclick=\"addNode()\" value=\"add node dynamically\" /&gt; &lt;br /&gt;\n&lt;input\n  type=\"button\"\n  onclick=\"changeNode1()\"\n  value=\"change node 1&apos;s color dynamically\"\n/&gt;\n&lt;br /&gt;\n&lt;input\n  type=\"button\"\n  onclick=\"removeRandomNode()\"\n  value=\"remove a random Node\"\n/&gt;\n&lt;br /&gt;\n&lt;input type=\"button\" onclick=\"resetAllNodes()\" value=\"reload all nodes\" /&gt;\n&lt;br /&gt;\n&lt;input\n  type=\"button\"\n  onclick=\"resetAllNodesStabilize()\"\n  value=\"reload all nodes and stabilize\"\n/&gt;\n&lt;br /&gt;\n\n&lt;h4&gt;setOptions (change the global options):&lt;/h4&gt;\n&lt;input\n  type=\"button\"\n  onclick=\"changeOptions()\"\n  value=\"change the global options\"\n/&gt;&lt;br /&gt;\n\n&lt;h4&gt;setData (reinitialize the data):&lt;/h4&gt;\n&lt;input\n  type=\"button\"\n  onclick=\"setTheData()\"\n  value=\"setData. This stabilizes again if stabilization is true.\"\n/&gt;&lt;br /&gt;\n\n&lt;h4&gt;Cleanly destroy the network and restart it:&lt;/h4&gt;\n&lt;input\n  type=\"button\"\n  onclick=\"resetAll()\"\n  value=\"Destroy the network and restart it.\"\n/&gt;&lt;br /&gt;\n&lt;div id=\"mynetwork\"&gt;&lt;/div&gt;\n","js":"var nodeIds, shadowState, nodesArray, nodes, edgesArray, edges, network;\n\nfunction startNetwork() {\n  // this list is kept to remove a random node.. we do not add node 1 here because it&apos;s used for changes\n  nodeIds = [2, 3, 4, 5];\n  shadowState = false;\n\n  // create an array with nodes\n  nodesArray = [\n    { id: 1, label: \"Node 1\" },\n    { id: 2, label: \"Node 2\" },\n    { id: 3, label: \"Node 3\" },\n    { id: 4, label: \"Node 4\" },\n    { id: 5, label: \"Node 5\" },\n  ];\n  nodes = new vis.DataSet(nodesArray);\n\n  // create an array with edges\n  edgesArray = [\n    { from: 1, to: 3 },\n    { from: 1, to: 2 },\n    { from: 2, to: 4 },\n    { from: 2, to: 5 },\n  ];\n  edges = new vis.DataSet(edgesArray);\n\n  // create a network\n  var container = document.getElementById(\"mynetwork\");\n  var data = {\n    nodes: nodes,\n    edges: edges,\n  };\n  var options = {};\n  network = new vis.Network(container, data, options);\n}\n\nfunction addNode() {\n  var newId = (Math.random() * 1e7).toString(32);\n  nodes.add({ id: newId, label: \"I&apos;m new!\" });\n  nodeIds.push(newId);\n}\n\nfunction changeNode1() {\n  var newColor = \"#\" + Math.floor(Math.random() * 255 * 255 * 255).toString(16);\n  nodes.update([{ id: 1, color: { background: newColor } }]);\n}\n\nfunction removeRandomNode() {\n  var randomNodeId = nodeIds[Math.floor(Math.random() * nodeIds.length)];\n  nodes.remove({ id: randomNodeId });\n\n  var index = nodeIds.indexOf(randomNodeId);\n  nodeIds.splice(index, 1);\n}\n\nfunction changeOptions() {\n  shadowState = !shadowState;\n  network.setOptions({\n    nodes: { shadow: shadowState },\n    edges: { shadow: shadowState },\n  });\n}\n\nfunction resetAllNodes() {\n  nodes.clear();\n  edges.clear();\n  nodes.add(nodesArray);\n  edges.add(edgesArray);\n}\n\nfunction resetAllNodesStabilize() {\n  resetAllNodes();\n  network.stabilize();\n}\n\nfunction setTheData() {\n  nodes = new vis.DataSet(nodesArray);\n  edges = new vis.DataSet(edgesArray);\n  network.setData({ nodes: nodes, edges: edges });\n}\n\nfunction resetAll() {\n  if (network !== null) {\n    network.destroy();\n    network = null;\n  }\n  startNetwork();\n}\n\nstartNetwork();\n","js_external":"https://visjs.github.io/vis-network/standalone/umd/vis-network.min.js","title":"Vis Network | Data | Dynamic Data"}'
      />
      <button id="open" alt="JSFiddle" title="JSFiddle">
        Open CodePen
      </button>
    </form>

    <script type="text/javascript">
      document.getElementById("open").click();
    </script>
  </body>
</html>
